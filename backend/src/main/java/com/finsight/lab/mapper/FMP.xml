<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="FMP">
	<insert id="upsertStock" parameterType="map">
	    INSERT INTO FMP_STOCK_LIST (SYMBOL, NAME, EXCHANGE, EXCHANGE_SHORT_NAME, TYPE)
	    VALUES (#{SYMBOL}, #{NAME}, #{EXCHANGE}, #{EXCHANGE_SHORT_NAME}, #{TYPE})
	    ON DUPLICATE KEY UPDATE
	        NAME = #{NAME},
	        EXCHANGE = #{EXCHANGE},
	        EXCHANGE_SHORT_NAME = #{EXCHANGE_SHORT_NAME},
	        TYPE = #{TYPE};
	</insert>
	<insert id="upsertCompanyProfile" parameterType="map">
	    INSERT INTO FMP_COMPANY_PROFILE (SYMBOL, PRICE, BETA, VOL_AVG, MKT_CAP, LAST_DIV, PRICE_RANGE, CHANGES, COMPANY_NAME, CURRENCY, CIK, ISIN, CUSIP, EXCHANGE, EXCHANGE_SHORT_NAME, INDUSTRY, WEBSITE, DESCRIPTION, CEO, SECTOR, COUNTRY, FULL_TIME_EMPLOYEES, PHONE, ADDRESS, CITY, STATE, ZIP, DCF_DIFF, DCF, IMAGE, IPO_DATE, DEFAULT_IMAGE, IS_ETF, IS_ACTIVELY_TRADING, IS_ADR, IS_FUND)
	    VALUES (#{SYMBOL}, #{PRICE}, #{BETA}, #{VOL_AVG}, #{MKT_CAP}, #{LAST_DIV}, #{PRICE_RANGE}, #{CHANGES}, #{COMPANY_NAME}, #{CURRENCY}, #{CIK}, #{ISIN}, #{CUSIP}, #{EXCHANGE}, #{EXCHANGE_SHORT_NAME}, #{INDUSTRY}, #{WEBSITE}, #{DESCRIPTION}, #{CEO}, #{SECTOR}, #{COUNTRY}, #{FULL_TIME_EMPLOYEES}, #{PHONE}, #{ADDRESS}, #{CITY}, #{STATE}, #{ZIP}, #{DCF_DIFF}, #{DCF}, #{IMAGE}, #{IPO_DATE}, #{DEFAULT_IMAGE}, #{IS_ETF}, #{IS_ACTIVELY_TRADING}, #{IS_ADR}, #{IS_FUND})
	    ON DUPLICATE KEY UPDATE
	        PRICE = #{PRICE},
	        BETA = #{BETA},
	        VOL_AVG = #{VOL_AVG},
	        MKT_CAP = #{MKT_CAP},
	        LAST_DIV = #{LAST_DIV},
	        PRICE_RANGE = #{PRICE_RANGE},
	        CHANGES = #{CHANGES},
	        COMPANY_NAME = #{COMPANY_NAME},
	        CURRENCY = #{CURRENCY},
	        CIK = #{CIK},
	        ISIN = #{ISIN},
	        CUSIP = #{CUSIP},
	        EXCHANGE = #{EXCHANGE},
	        EXCHANGE_SHORT_NAME = #{EXCHANGE_SHORT_NAME},
	        INDUSTRY = #{INDUSTRY},
	        WEBSITE = #{WEBSITE},
	        DESCRIPTION = #{DESCRIPTION},
	        CEO = #{CEO},
	        SECTOR = #{SECTOR},
	        COUNTRY = #{COUNTRY},
	        FULL_TIME_EMPLOYEES = #{FULL_TIME_EMPLOYEES},
	        PHONE = #{PHONE},
	        ADDRESS = #{ADDRESS},
	        CITY = #{CITY},
	        STATE = #{STATE},
	        ZIP = #{ZIP},
	        DCF_DIFF = #{DCF_DIFF},
	        DCF = #{DCF},
	        IMAGE = #{IMAGE},
	        IPO_DATE = #{IPO_DATE},
	        DEFAULT_IMAGE = #{DEFAULT_IMAGE},
	        IS_ETF = #{IS_ETF},
	        IS_ACTIVELY_TRADING = #{IS_ACTIVELY_TRADING},
	        IS_ADR = #{IS_ADR},
	        IS_FUND = #{IS_FUND};
	</insert>
	
	<insert id="upsertHistoricalData" parameterType="map">
        INSERT INTO FMP_HISTORICAL_DATA (SYMBOL, DATE, OPEN_PRICE, HIGH_PRICE, LOW_PRICE, CLOSE_PRICE,
                                         ADJ_CLOSE, VOLUME, UNADJUSTED_VOLUME, PRICE_CHANGE, CHANGE_PERCENT,
                                         VWAP, LABEL, CHANGE_OVER_TIME)
        VALUES (#{SYMBOL}, #{DATE}, #{OPEN_PRICE}, #{HIGH_PRICE}, #{LOW_PRICE}, #{CLOSE_PRICE},
                #{ADJ_CLOSE}, #{VOLUME}, #{UNADJUSTED_VOLUME}, #{PRICE_CHANGE}, #{CHANGE_PERCENT},
                #{VWAP}, #{LABEL}, #{CHANGE_OVER_TIME})
        ON DUPLICATE KEY UPDATE
            OPEN_PRICE = #{OPEN_PRICE},
            HIGH_PRICE = #{HIGH_PRICE},
            LOW_PRICE = #{LOW_PRICE},
            CLOSE_PRICE = #{CLOSE_PRICE},
            ADJ_CLOSE = #{ADJ_CLOSE},
            VOLUME = #{VOLUME},
            UNADJUSTED_VOLUME = #{UNADJUSTED_VOLUME},
            PRICE_CHANGE = #{PRICE_CHANGE},
            CHANGE_PERCENT = #{CHANGE_PERCENT},
            VWAP = #{VWAP},
            LABEL = #{LABEL},
            CHANGE_OVER_TIME = #{CHANGE_OVER_TIME};
    </insert>
    <insert id="upsertQuoteData" parameterType="map">
        INSERT INTO FMP_QUOTE_DATA (SYMBOL, NAME, PRICE, CHANGES_PERCENTAGE, CHANGE_VALUE, DAY_LOW, DAY_HIGH, YEAR_HIGH, YEAR_LOW, MARKET_CAP, PRICE_AVG_50, PRICE_AVG_200, EXCHANGE, VOLUME, AVG_VOLUME, OPEN_PRICE, PREVIOUS_CLOSE, EPS, PE, EARNINGS_ANNOUNCEMENT, SHARES_OUTSTANDING, TIMESTAMP)
        VALUES (#{SYMBOL}, #{NAME}, #{PRICE}, #{CHANGES_PERCENTAGE}, #{CHANGE_VALUE}, #{DAY_LOW}, #{DAY_HIGH}, #{YEAR_HIGH}, #{YEAR_LOW}, #{MARKET_CAP}, #{PRICE_AVG_50}, #{PRICE_AVG_200}, #{EXCHANGE}, #{VOLUME}, #{AVG_VOLUME}, #{OPEN_PRICE}, #{PREVIOUS_CLOSE}, #{EPS}, #{PE}, #{EARNINGS_ANNOUNCEMENT}, #{SHARES_OUTSTANDING}, #{TIMESTAMP})
        ON DUPLICATE KEY UPDATE
            NAME = #{NAME},
            PRICE = #{PRICE},
            CHANGES_PERCENTAGE = #{CHANGES_PERCENTAGE},
            CHANGE_VALUE = #{CHANGE_VALUE},
            DAY_LOW = #{DAY_LOW},
            DAY_HIGH = #{DAY_HIGH},
            YEAR_HIGH = #{YEAR_HIGH},
            YEAR_LOW = #{YEAR_LOW},
            MARKET_CAP = #{MARKET_CAP},
            PRICE_AVG_50 = #{PRICE_AVG_50},
            PRICE_AVG_200 = #{PRICE_AVG_200},
            EXCHANGE = #{EXCHANGE},
            VOLUME = #{VOLUME},
            AVG_VOLUME = #{AVG_VOLUME},
            OPEN_PRICE = #{OPEN_PRICE},
            PREVIOUS_CLOSE = #{PREVIOUS_CLOSE},
            EPS = #{EPS},
            PE = #{PE},
            EARNINGS_ANNOUNCEMENT = #{EARNINGS_ANNOUNCEMENT},
            SHARES_OUTSTANDING = #{SHARES_OUTSTANDING},
            TIMESTAMP = #{TIMESTAMP};
    </insert>
    <insert id="upsertHistoricalMarketCap" parameterType="map">
        INSERT INTO FMP_HISTORICAL_MARKET_CAP (SYMBOL, DATE, MARKET_CAP)
        VALUES (#{SYMBOL}, #{DATE}, #{MARKET_CAP})
        ON DUPLICATE KEY UPDATE
            MARKET_CAP = #{MARKET_CAP};
    </insert>
    <insert id="upsertIncomeStatement" parameterType="map">
		INSERT INTO FMP_INCOME_STATEMENT (
		    SYMBOL,
		    FILLING_DATE,
		    DATE,
		    REPORTED_CURRENCY,
		    CIK,
		    ACCEPTED_DATE,
		    CALENDAR_YEAR,
		    PERIOD,
		    REVENUE,
		    COST_OF_REVENUE,
		    GROSS_PROFIT,
		    GROSS_PROFIT_RATIO,
		    RESEARCH_AND_DEVELOPMENT_EXPENSES,
		    SELLING_AND_MARKETING_EXPENSES,
		    GENERAL_AND_ADMINISTRATIVE_EXPENSES,
		    SELLING_GENERAL_AND_ADMINISTRATIVE_EXPENSES,
		    OTHER_EXPENSES,
		    OPERATING_EXPENSES,
		    COST_AND_EXPENSES,
		    INTEREST_INCOME,
		    INTEREST_EXPENSE,
		    DEPRECIATION_AND_AMORTIZATION,
		    EBITDA,
		    EBITDARATIO,
		    OPERATING_INCOME,
		    OPERATING_INCOME_RATIO,
		    TOTAL_OTHER_INCOME_EXPENSES_NET,
		    INCOME_BEFORE_TAX,
		    INCOME_BEFORE_TAX_RATIO,
		    INCOME_TAX_EXPENSE,
		    NET_INCOME,
		    NET_INCOME_RATIO,
		    EPS,
		    EPS_DILUTED,
		    WEIGHTED_AVERAGE_SHS_OUT,
		    WEIGHTED_AVERAGE_SHS_OUT_DIL,
		    LINK,
		    FINAL_LINK
		)
		VALUES (
		    #{SYMBOL},
		    #{FILLING_DATE},
		    #{DATE},
		    #{REPORTED_CURRENCY},
		    #{CIK},
		    #{ACCEPTED_DATE},
		    #{CALENDAR_YEAR},
		    #{PERIOD},
		    #{REVENUE},
		    #{COST_OF_REVENUE},
		    #{GROSS_PROFIT},
		    #{GROSS_PROFIT_RATIO},
		    #{RESEARCH_AND_DEVELOPMENT_EXPENSES},
		    #{SELLING_AND_MARKETING_EXPENSES},
		    #{GENERAL_AND_ADMINISTRATIVE_EXPENSES},
		    #{SELLING_GENERAL_AND_ADMINISTRATIVE_EXPENSES},
		    #{OTHER_EXPENSES},
		    #{OPERATING_EXPENSES},
		    #{COST_AND_EXPENSES},
		    #{INTEREST_INCOME},
		    #{INTEREST_EXPENSE},
		    #{DEPRECIATION_AND_AMORTIZATION},
		    #{EBITDA},
		    #{EBITDARATIO},
		    #{OPERATING_INCOME},
		    #{OPERATING_INCOME_RATIO},
		    #{TOTAL_OTHER_INCOME_EXPENSES_NET},
		    #{INCOME_BEFORE_TAX},
		    #{INCOME_BEFORE_TAX_RATIO},
		    #{INCOME_TAX_EXPENSE},
		    #{NET_INCOME},
		    #{NET_INCOME_RATIO},
		    #{EPS},
		    #{EPS_DILUTED},
		    #{WEIGHTED_AVERAGE_SHS_OUT},
		    #{WEIGHTED_AVERAGE_SHS_OUT_DIL},
		    #{LINK},
		    #{FINAL_LINK}
		)
		ON DUPLICATE KEY UPDATE
		    DATE = VALUES(DATE),
		    REPORTED_CURRENCY = VALUES(REPORTED_CURRENCY),
		    CIK = VALUES(CIK),
		    ACCEPTED_DATE = VALUES(ACCEPTED_DATE),
		    CALENDAR_YEAR = VALUES(CALENDAR_YEAR),
		    PERIOD = VALUES(PERIOD),
		    REVENUE = VALUES(REVENUE),
		    COST_OF_REVENUE = VALUES(COST_OF_REVENUE),
		    GROSS_PROFIT = VALUES(GROSS_PROFIT),
		    GROSS_PROFIT_RATIO = VALUES(GROSS_PROFIT_RATIO),
		    RESEARCH_AND_DEVELOPMENT_EXPENSES = VALUES(RESEARCH_AND_DEVELOPMENT_EXPENSES),
		    SELLING_AND_MARKETING_EXPENSES = VALUES(SELLING_AND_MARKETING_EXPENSES),
		    GENERAL_AND_ADMINISTRATIVE_EXPENSES = VALUES(GENERAL_AND_ADMINISTRATIVE_EXPENSES),
		    SELLING_GENERAL_AND_ADMINISTRATIVE_EXPENSES = VALUES(SELLING_GENERAL_AND_ADMINISTRATIVE_EXPENSES),
		    OTHER_EXPENSES = VALUES(OTHER_EXPENSES),
		    OPERATING_EXPENSES = VALUES(OPERATING_EXPENSES),
		    COST_AND_EXPENSES = VALUES(COST_AND_EXPENSES),
		    INTEREST_INCOME = VALUES(INTEREST_INCOME),
		    INTEREST_EXPENSE = VALUES(INTEREST_EXPENSE),
		    DEPRECIATION_AND_AMORTIZATION = VALUES(DEPRECIATION_AND_AMORTIZATION),
		    EBITDA = VALUES(EBITDA),
		    EBITDARATIO = VALUES(EBITDARATIO),
		    OPERATING_INCOME = VALUES(OPERATING_INCOME),
		    OPERATING_INCOME_RATIO = VALUES(OPERATING_INCOME_RATIO),
		    TOTAL_OTHER_INCOME_EXPENSES_NET = VALUES(TOTAL_OTHER_INCOME_EXPENSES_NET),
		    INCOME_BEFORE_TAX = VALUES(INCOME_BEFORE_TAX),
		    INCOME_BEFORE_TAX_RATIO = VALUES(INCOME_BEFORE_TAX_RATIO),
		    INCOME_TAX_EXPENSE = VALUES(INCOME_TAX_EXPENSE),
		    NET_INCOME = VALUES(NET_INCOME),
		    NET_INCOME_RATIO = VALUES(NET_INCOME_RATIO),
		    EPS = VALUES(EPS),
		    EPS_DILUTED = VALUES(EPS_DILUTED),
		    WEIGHTED_AVERAGE_SHS_OUT = VALUES(WEIGHTED_AVERAGE_SHS_OUT),
		    WEIGHTED_AVERAGE_SHS_OUT_DIL = VALUES(WEIGHTED_AVERAGE_SHS_OUT_DIL),
		    LINK = VALUES(LINK),
		    FINAL_LINK = VALUES(FINAL_LINK),
		    UPDATED_AT = CURRENT_TIMESTAMP
    </insert>
    <insert id="upsertBalanceSheet" parameterType="map">
        INSERT INTO FMP_BALANCE_SHEET (
            SYMBOL,
            CALENDAR_YEAR,
            PERIOD,
            FILLING_DATE,
            ACCEPTED_DATE,
            REPORTED_CURRENCY,
            CASH_AND_CASH_EQUIVALENTS,
            SHORT_TERM_INVESTMENTS,
            CASH_AND_SHORT_TERM_INVESTMENTS,
            NET_RECEIVABLES,
            INVENTORY,
            OTHER_CURRENT_ASSETS,
            TOTAL_CURRENT_ASSETS,
            PROPERTY_PLANT_EQUIPMENT_NET,
            GOODWILL,
            INTANGIBLE_ASSETS,
            GOODWILL_AND_INTANGIBLE_ASSETS,
            LONG_TERM_INVESTMENTS,
            TAX_ASSETS,
            OTHER_NON_CURRENT_ASSETS,
            TOTAL_NON_CURRENT_ASSETS,
            OTHER_ASSETS,
            TOTAL_ASSETS,
            ACCOUNT_PAYABLES,
            SHORT_TERM_DEBT,
            TAX_PAYABLES,
            DEFERRED_REVENUE,
            OTHER_CURRENT_LIABILITIES,
            TOTAL_CURRENT_LIABILITIES,
            LONG_TERM_DEBT,
            DEFERRED_REVENUE_NON_CURRENT,
            DEFERRED_TAX_LIABILITIES_NON_CURRENT,
            OTHER_NON_CURRENT_LIABILITIES,
            TOTAL_NON_CURRENT_LIABILITIES,
            OTHER_LIABILITIES,
            CAPITAL_LEASE_OBLIGATIONS,
            TOTAL_LIABILITIES,
            PREFERRED_STOCK,
            COMMON_STOCK,
            RETAINED_EARNINGS,
            ACCUMULATED_OTHER_COMPREHENSIVE_INCOME_LOSS,
            OTHER_TOTAL_STOCKHOLDERS_EQUITY,
            TOTAL_STOCKHOLDERS_EQUITY,
            TOTAL_EQUITY,
            TOTAL_LIABILITIES_AND_STOCKHOLDERS_EQUITY,
            MINORITY_INTEREST,
            TOTAL_LIABILITIES_AND_TOTAL_EQUITY,
            TOTAL_INVESTMENTS,
            TOTAL_DEBT,
            NET_DEBT,
            LINK,
            FINAL_LINK
        ) VALUES (
            #{SYMBOL},
            #{CALENDAR_YEAR},
            #{PERIOD},
            #{FILLING_DATE},
            #{ACCEPTED_DATE},
            #{REPORTED_CURRENCY},
            #{CASH_AND_CASH_EQUIVALENTS},
            #{SHORT_TERM_INVESTMENTS},
            #{CASH_AND_SHORT_TERM_INVESTMENTS},
            #{NET_RECEIVABLES},
            #{INVENTORY},
            #{OTHER_CURRENT_ASSETS},
            #{TOTAL_CURRENT_ASSETS},
            #{PROPERTY_PLANT_EQUIPMENT_NET},
            #{GOODWILL},
            #{INTANGIBLE_ASSETS},
            #{GOODWILL_AND_INTANGIBLE_ASSETS},
            #{LONG_TERM_INVESTMENTS},
            #{TAX_ASSETS},
            #{OTHER_NON_CURRENT_ASSETS},
            #{TOTAL_NON_CURRENT_ASSETS},
            #{OTHER_ASSETS},
            #{TOTAL_ASSETS},
            #{ACCOUNT_PAYABLES},
            #{SHORT_TERM_DEBT},
            #{TAX_PAYABLES},
            #{DEFERRED_REVENUE},
            #{OTHER_CURRENT_LIABILITIES},
            #{TOTAL_CURRENT_LIABILITIES},
            #{LONG_TERM_DEBT},
            #{DEFERRED_REVENUE_NON_CURRENT},
            #{DEFERRED_TAX_LIABILITIES_NON_CURRENT},
            #{OTHER_NON_CURRENT_LIABILITIES},
            #{TOTAL_NON_CURRENT_LIABILITIES},
            #{OTHER_LIABILITIES},
            #{CAPITAL_LEASE_OBLIGATIONS},
            #{TOTAL_LIABILITIES},
            #{PREFERRED_STOCK},
            #{COMMON_STOCK},
            #{RETAINED_EARNINGS},
            #{ACCUMULATED_OTHER_COMPREHENSIVE_INCOME_LOSS},
            #{OTHER_TOTAL_STOCKHOLDERS_EQUITY},
            #{TOTAL_STOCKHOLDERS_EQUITY},
            #{TOTAL_EQUITY},
            #{TOTAL_LIABILITIES_AND_STOCKHOLDERS_EQUITY},
            #{MINORITY_INTEREST},
            #{TOTAL_LIABILITIES_AND_TOTAL_EQUITY},
            #{TOTAL_INVESTMENTS},
            #{TOTAL_DEBT},
            #{NET_DEBT},
            #{LINK},
            #{FINAL_LINK}
        ) ON DUPLICATE KEY UPDATE
            FILLING_DATE = VALUES(FILLING_DATE),
            REPORTED_CURRENCY = VALUES(REPORTED_CURRENCY),
            CASH_AND_CASH_EQUIVALENTS = VALUES(CASH_AND_CASH_EQUIVALENTS),
            SHORT_TERM_INVESTMENTS = VALUES(SHORT_TERM_INVESTMENTS),
            CASH_AND_SHORT_TERM_INVESTMENTS = VALUES(CASH_AND_SHORT_TERM_INVESTMENTS),
            NET_RECEIVABLES = VALUES(NET_RECEIVABLES),
            INVENTORY = VALUES(INVENTORY),
            OTHER_CURRENT_ASSETS = VALUES(OTHER_CURRENT_ASSETS),
            TOTAL_CURRENT_ASSETS = VALUES(TOTAL_CURRENT_ASSETS),
            PROPERTY_PLANT_EQUIPMENT_NET = VALUES(PROPERTY_PLANT_EQUIPMENT_NET),
            GOODWILL = VALUES(GOODWILL),
            INTANGIBLE_ASSETS = VALUES(INTANGIBLE_ASSETS),
            GOODWILL_AND_INTANGIBLE_ASSETS = VALUES(GOODWILL_AND_INTANGIBLE_ASSETS),
            LONG_TERM_INVESTMENTS = VALUES(LONG_TERM_INVESTMENTS),
            TAX_ASSETS = VALUES(TAX_ASSETS),
            OTHER_NON_CURRENT_ASSETS = VALUES(OTHER_NON_CURRENT_ASSETS),
            TOTAL_NON_CURRENT_ASSETS = VALUES(TOTAL_NON_CURRENT_ASSETS),
            OTHER_ASSETS = VALUES(OTHER_ASSETS),
            TOTAL_ASSETS = VALUES(TOTAL_ASSETS),
            ACCOUNT_PAYABLES = VALUES(ACCOUNT_PAYABLES),
            SHORT_TERM_DEBT = VALUES(SHORT_TERM_DEBT),
            TAX_PAYABLES = VALUES(TAX_PAYABLES),
            DEFERRED_REVENUE = VALUES(DEFERRED_REVENUE),
            OTHER_CURRENT_LIABILITIES = VALUES(OTHER_CURRENT_LIABILITIES),
            TOTAL_CURRENT_LIABILITIES = VALUES(TOTAL_CURRENT_LIABILITIES),
            LONG_TERM_DEBT = VALUES(LONG_TERM_DEBT),
            DEFERRED_REVENUE_NON_CURRENT = VALUES(DEFERRED_REVENUE_NON_CURRENT),
            DEFERRED_TAX_LIABILITIES_NON_CURRENT = VALUES(DEFERRED_TAX_LIABILITIES_NON_CURRENT),
            OTHER_NON_CURRENT_LIABILITIES = VALUES(OTHER_NON_CURRENT_LIABILITIES),
            TOTAL_NON_CURRENT_LIABILITIES = VALUES(TOTAL_NON_CURRENT_LIABILITIES),
            OTHER_LIABILITIES = VALUES(OTHER_LIABILITIES),
            CAPITAL_LEASE_OBLIGATIONS = VALUES(CAPITAL_LEASE_OBLIGATIONS),
            TOTAL_LIABILITIES = VALUES(TOTAL_LIABILITIES),
            PREFERRED_STOCK = VALUES(PREFERRED_STOCK),
            COMMON_STOCK = VALUES(COMMON_STOCK),
            RETAINED_EARNINGS = VALUES(RETAINED_EARNINGS),
            ACCUMULATED_OTHER_COMPREHENSIVE_INCOME_LOSS = VALUES(ACCUMULATED_OTHER_COMPREHENSIVE_INCOME_LOSS),
            OTHER_TOTAL_STOCKHOLDERS_EQUITY = VALUES(OTHER_TOTAL_STOCKHOLDERS_EQUITY),
            TOTAL_STOCKHOLDERS_EQUITY = VALUES(TOTAL_STOCKHOLDERS_EQUITY),
            TOTAL_EQUITY = VALUES(TOTAL_EQUITY),
            TOTAL_LIABILITIES_AND_STOCKHOLDERS_EQUITY = VALUES(TOTAL_LIABILITIES_AND_STOCKHOLDERS_EQUITY),
            MINORITY_INTEREST = VALUES(MINORITY_INTEREST),
            TOTAL_LIABILITIES_AND_TOTAL_EQUITY = VALUES(TOTAL_LIABILITIES_AND_TOTAL_EQUITY),
            TOTAL_INVESTMENTS = VALUES(TOTAL_INVESTMENTS),
            TOTAL_DEBT = VALUES(TOTAL_DEBT),
            NET_DEBT = VALUES(NET_DEBT),
            LINK = VALUES(LINK),
            FINAL_LINK = VALUES(FINAL_LINK);
    </insert>
	<insert id="upsertCashFlowStatement" parameterType="map">
	    INSERT INTO FMP_CASH_FLOW_STATEMENT (
	        SYMBOL,
	        DATE,
	        REPORTED_CURRENCY,
	        CIK,
	        FILLING_DATE,
	        ACCEPTED_DATE,
	        CALENDAR_YEAR,
	        PERIOD,
	        NET_INCOME,
	        DEPRECIATION_AND_AMORTIZATION,
	        DEFERRED_INCOME_TAX,
	        STOCK_BASED_COMPENSATION,
	        CHANGE_IN_WORKING_CAPITAL,
	        ACCOUNTS_RECEIVABLES,
	        INVENTORY,
	        ACCOUNTS_PAYABLES,
	        OTHER_WORKING_CAPITAL,
	        OTHER_NON_CASH_ITEMS,
	        NET_CASH_PROVIDED_BY_OPERATING_ACTIVITIES,
	        INVESTMENTS_IN_PROPERTY_PLANT_AND_EQUIPMENT,
	        ACQUISITIONS_NET,
	        PURCHASES_OF_INVESTMENTS,
	        SALES_MATURITIES_OF_INVESTMENTS,
	        OTHER_INVESTING_ACTIVITIES,
	        NET_CASH_USED_FOR_INVESTING_ACTIVITIES,
	        DEBT_REPAYMENT,
	        COMMON_STOCK_ISSUED,
	        COMMON_STOCK_REPURCHASED,
	        DIVIDENDS_PAID,
	        OTHER_FINANCING_ACTIVITIES,
	        NET_CASH_USED_PROVIDED_BY_FINANCING_ACTIVITIES,
	        EFFECT_OF_FOREX_CHANGES_ON_CASH,
	        NET_CHANGE_IN_CASH,
	        CASH_AT_END_OF_PERIOD,
	        CASH_AT_BEGINNING_OF_PERIOD,
	        OPERATING_CASH_FLOW,
	        CAPITAL_EXPENDITURE,
	        FREE_CASH_FLOW,
	        LINK,
	        FINAL_LINK
	    )
	    VALUES (
	        #{SYMBOL},
	        #{DATE},
	        #{REPORTED_CURRENCY},
	        #{CIK},
	        #{FILLING_DATE},
	        #{ACCEPTED_DATE},
	        #{CALENDAR_YEAR},
	        #{PERIOD},
	        #{NET_INCOME},
	        #{DEPRECIATION_AND_AMORTIZATION},
	        #{DEFERRED_INCOME_TAX},
	        #{STOCK_BASED_COMPENSATION},
	        #{CHANGE_IN_WORKING_CAPITAL},
	        #{ACCOUNTS_RECEIVABLES},
	        #{INVENTORY},
	        #{ACCOUNTS_PAYABLES},
	        #{OTHER_WORKING_CAPITAL},
	        #{OTHER_NON_CASH_ITEMS},
	        #{NET_CASH_PROVIDED_BY_OPERATING_ACTIVITIES},
	        #{INVESTMENTS_IN_PROPERTY_PLANT_AND_EQUIPMENT},
	        #{ACQUISITIONS_NET},
	        #{PURCHASES_OF_INVESTMENTS},
	        #{SALES_MATURITIES_OF_INVESTMENTS},
	        #{OTHER_INVESTING_ACTIVITIES},
	        #{NET_CASH_USED_FOR_INVESTING_ACTIVITIES},
	        #{DEBT_REPAYMENT},
	        #{COMMON_STOCK_ISSUED},
	        #{COMMON_STOCK_REPURCHASED},
	        #{DIVIDENDS_PAID},
	        #{OTHER_FINANCING_ACTIVITIES},
	        #{NET_CASH_USED_PROVIDED_BY_FINANCING_ACTIVITIES},
	        #{EFFECT_OF_FOREX_CHANGES_ON_CASH},
	        #{NET_CHANGE_IN_CASH},
	        #{CASH_AT_END_OF_PERIOD},
	        #{CASH_AT_BEGINNING_OF_PERIOD},
	        #{OPERATING_CASH_FLOW},
	        #{CAPITAL_EXPENDITURE},
	        #{FREE_CASH_FLOW},
	        #{LINK},
	        #{FINAL_LINK}
	    )
	    ON DUPLICATE KEY UPDATE
	        DATE = VALUES(DATE),
	        REPORTED_CURRENCY = VALUES(REPORTED_CURRENCY),
	        CIK = VALUES(CIK),
	        FILLING_DATE = VALUES(FILLING_DATE),
	        ACCEPTED_DATE = VALUES(ACCEPTED_DATE),
	        NET_INCOME = VALUES(NET_INCOME),
	        DEPRECIATION_AND_AMORTIZATION = VALUES(DEPRECIATION_AND_AMORTIZATION),
	        DEFERRED_INCOME_TAX = VALUES(DEFERRED_INCOME_TAX),
	        STOCK_BASED_COMPENSATION = VALUES(STOCK_BASED_COMPENSATION),
	        CHANGE_IN_WORKING_CAPITAL = VALUES(CHANGE_IN_WORKING_CAPITAL),
	        ACCOUNTS_RECEIVABLES = VALUES(ACCOUNTS_RECEIVABLES),
	        INVENTORY = VALUES(INVENTORY),
	        ACCOUNTS_PAYABLES = VALUES(ACCOUNTS_PAYABLES),
	        OTHER_WORKING_CAPITAL = VALUES(OTHER_WORKING_CAPITAL),
	        OTHER_NON_CASH_ITEMS = VALUES(OTHER_NON_CASH_ITEMS),
	        NET_CASH_PROVIDED_BY_OPERATING_ACTIVITIES = VALUES(NET_CASH_PROVIDED_BY_OPERATING_ACTIVITIES),
	        INVESTMENTS_IN_PROPERTY_PLANT_AND_EQUIPMENT = VALUES(INVESTMENTS_IN_PROPERTY_PLANT_AND_EQUIPMENT),
	        ACQUISITIONS_NET = VALUES(ACQUISITIONS_NET),
	        PURCHASES_OF_INVESTMENTS = VALUES(PURCHASES_OF_INVESTMENTS),
	        SALES_MATURITIES_OF_INVESTMENTS = VALUES(SALES_MATURITIES_OF_INVESTMENTS),
	        OTHER_INVESTING_ACTIVITIES = VALUES(OTHER_INVESTING_ACTIVITIES),
	        NET_CASH_USED_FOR_INVESTING_ACTIVITIES = VALUES(NET_CASH_USED_FOR_INVESTING_ACTIVITIES),
	        DEBT_REPAYMENT = VALUES(DEBT_REPAYMENT),
	        COMMON_STOCK_ISSUED = VALUES(COMMON_STOCK_ISSUED),
	        COMMON_STOCK_REPURCHASED = VALUES(COMMON_STOCK_REPURCHASED),
	        DIVIDENDS_PAID = VALUES(DIVIDENDS_PAID),
	        OTHER_FINANCING_ACTIVITIES = VALUES(OTHER_FINANCING_ACTIVITIES),
	        NET_CASH_USED_PROVIDED_BY_FINANCING_ACTIVITIES = VALUES(NET_CASH_USED_PROVIDED_BY_FINANCING_ACTIVITIES),
	        EFFECT_OF_FOREX_CHANGES_ON_CASH = VALUES(EFFECT_OF_FOREX_CHANGES_ON_CASH),
	        NET_CHANGE_IN_CASH = VALUES(NET_CHANGE_IN_CASH),
	        CASH_AT_END_OF_PERIOD = VALUES(CASH_AT_END_OF_PERIOD),
	        CASH_AT_BEGINNING_OF_PERIOD = VALUES(CASH_AT_BEGINNING_OF_PERIOD),
	        OPERATING_CASH_FLOW = VALUES(OPERATING_CASH_FLOW),
	        CAPITAL_EXPENDITURE = VALUES(CAPITAL_EXPENDITURE),
	        FREE_CASH_FLOW = VALUES(FREE_CASH_FLOW),
	        LINK = VALUES(LINK),
	        FINAL_LINK = VALUES(FINAL_LINK),
	        UPDATED_AT = CURRENT_TIMESTAMP;
	</insert>

</mapper>
